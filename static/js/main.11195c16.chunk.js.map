{"version":3,"sources":["App.js","index.js"],"names":["App","props","state","belts","id","status","selected","text","handleClick","newBelt","setState","prepareForWork","forEach","belt","log","localStorage","getItem","setItem","handleKeyPress","e","key","stop","start","off","fire","overweight","window","alert","Math","random","toFixed","download","res","data","Blob","type","URL","createObjectURL","tempLink","document","createElement","href","setAttribute","click","mainRef","React","createRef","this","current","focus","ref","tabIndex","onKeyDown","className","map","onClick","Component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.11195c16.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport './App.css'\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.mainRef = React.createRef();\n  }\n  state = {\n    belts: [\n      { id: 1, status: \"inactive\", selected: false, text: 'вимкнена' },\n      { id: 2, status: \"inactive\", selected: false, text: 'вимкнена' },\n      { id: 3, status: \"inactive\", selected: false, text: 'вимкнена' },\n      { id: 4, status: \"inactive\", selected: false, text: 'вимкнена' },\n    ]\n  }\n\n  componentDidMount() {\n    this.mainRef.current.focus();\n    localStorage.setItem('log', '');\n  }\n\n  handleClick = (id, status, selected, text) => {\n    const newBelt = {\n      id,\n      status,\n      selected: !selected,\n      text\n    }\n    const { belts } = this.state;\n    belts[id - 1] = newBelt;\n    this.setState({ belts })\n  }\n\n  prepareForWork = () => {\n    const { belts } = this.state;\n    belts.forEach(belt => {\n      if (belt.selected === true) {\n        belt.status = 'stoped';\n        belt.text = 'готова до роботи';\n        let log = localStorage.getItem('log');\n        log += `стрічка номер ${belt.id} готова до роботи; \\n`\n        localStorage.setItem('log', log)\n      }\n    })\n    this.setState({ belts })\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key === 'p') {\n      this.prepareForWork();\n    }\n    if (e.key === 's') {\n      this.stop();\n    }\n    if (e.key === 'Enter') {\n      this.start();\n    }\n    if (e.key === 'Escape') {\n      this.off();\n    }\n    if (e.key === 'f') {\n      this.fire();\n    }\n    if (e.key === 'o') {\n      this.overweight();\n    }\n  }\n\n  stop = () => {\n    const { belts } = this.state;\n    belts.forEach(belt => {\n      if (belt.selected === true) {\n        belt.status = 'stoped';\n        belt.text = 'призупинена';\n        let log = localStorage.getItem('log');\n        log += `стрічка номер ${belt.id} призупинена; \\n`\n        localStorage.setItem('log', log)\n      }\n    })\n    this.setState({ belts })\n  }\n\n\n  start = () => {\n    const { belts } = this.state;\n    belts.forEach(belt => {\n      if (belt.selected === true) {\n        if (belt.text !== 'готова до роботи') {\n          window.alert('Вибрані стрічки ще не готові до роботи')\n        } else {\n          belt.status = 'active';\n          belt.text = 'увімкнена';\n          let log = localStorage.getItem('log');\n          log += `стрічка номер ${belt.id} увімкнена; \\n`\n          localStorage.setItem('log', log)\n        }\n      }\n    })\n    this.setState({ belts })\n  }\n\n  off = () => {\n    const { belts } = this.state;\n    belts.forEach(belt => {\n      if (belt.selected === true) {\n        if (belt.status === 'inactive') {\n          window.alert('Стрічка вже вимкнена')\n        } else {\n          belt.status = 'inactive';\n          belt.text = 'вимкнена';\n          let log = localStorage.getItem('log');\n          log += `стрічка номер ${belt.id} вимкнена; \\n`\n          localStorage.setItem('log', log)\n        }\n      }\n    })\n    this.setState({ belts })\n  }\n  fire = () => {\n    window.alert('fire!')\n    const { belts } = this.state;\n    belts.forEach(belt => {\n      if (belt.selected === true) {\n        belt.status = 'inactive';\n        belt.text = 'виникла пожежа, вимкнена';\n        let log = localStorage.getItem('log');\n        log += `стрічка номер ${belt.id} аварійно завершила роботу; \\n`\n        localStorage.setItem('log', log)\n      }\n    })\n    this.setState({ belts })\n  }\n\n  overweight = () => {\n    window.alert(`перевантаження ${(Math.random() * 10).toFixed(1)}кг!`)\n    const { belts } = this.state;\n    belts.forEach(belt => {\n      if (belt.selected === true) {\n        belt.status = 'inactive';\n        belt.text = 'перенавантаження, вимкнена';\n        let log = localStorage.getItem('log');\n        log += `стрічка номер ${belt.id} аварійно завершила роботу; \\n`\n        localStorage.setItem('log', log)\n      }\n    })\n    this.setState({ belts })\n  }\n  download = () => {\n    var res = localStorage.getItem('log');\n\n    var data = new Blob([res], { type: 'text/txt' }),\n      URL = window.URL.createObjectURL(data),\n      tempLink = document.createElement('a');\n    tempLink.href = URL;\n    tempLink.setAttribute('download', 'log.txt');\n    tempLink.click();\n  }\n  render() {\n    const { belts } = this.state;\n    return (\n      <div ref={this.mainRef} tabIndex=\"0\" onKeyDown={(e) => this.handleKeyPress(e)} className=\"app\">\n        <div className=\"belt_main\">\n          {\n            belts && belts.map(belt => {\n              return (\n                <div key={belt.id} className=\"belt_block\">\n                  {\n                    belt.status === 'active' &&\n                    <div\n                      onClick={() => this.handleClick(belt.id, belt.status, belt.selected, belt.text)}\n                      className={belt.selected === true ? 'belt_active selected' : 'belt_active'}>\n                    </div>\n                  }\n                  {\n                    belt.status === 'inactive' &&\n                    <div\n                      onClick={() => this.handleClick(belt.id, belt.status, belt.selected, belt.text)}\n                      className={belt.selected === true ? 'belt_inactive selected' : 'belt_inactive'}>\n                    </div>\n                  }\n                  {\n                    belt.status === 'stoped' &&\n                    <div\n                      onClick={() => this.handleClick(belt.id, belt.status, belt.selected, belt.text)}\n                      className={belt.selected === true ? 'belt_stoped selected' : 'belt_stoped'}>\n                    </div>\n                  }\n\n                  <span className=\"belt_title\">{`стрічка номер ${belt.id}: ${belt.text}`}</span>\n                </div>\n              )\n\n            })\n          }\n          <button className=\"button_log\" onClick={this.download}>Скачати log файл</button>\n\n        </div>\n        <div className=\"buttons_container\">\n          <button className=\"buttons_button\" onClick={this.prepareForWork}>Приготувати стрічки до роботи</button>\n          <button className=\"buttons_button\" onClick={this.stop}>Призупинити</button>\n          <button className=\"buttons_button\" onClick={this.start}>Увімкнути</button>\n          <button className=\"buttons_button\" onClick={this.off}>Вимкнути</button>\n          <button className=\"buttons_button\" onClick={this.fire}>Сгенерувати пожежу</button>\n          <button className=\"buttons_button\" onClick={this.overweight}>Сгенерувати перевантаження</button>\n        </div>\n      </div>\n    )\n  }\n}\n\n\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}